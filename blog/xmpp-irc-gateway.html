<!DOCTYPE html><html lang="en"><head><link href="https://fonts.googleapis.com/css?family=Cantarell" rel="stylesheet"><title>Biboumi - A XMPP - IRC Gateway</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="https://copyninja.in/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Random Ramblings Full Atom Feed"><link href="https://copyninja.in/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="Random Ramblings Categories Atom Feed"><link rel="stylesheet" type="text/css" href="/theme/css/pygments.css"><link rel="stylesheet" type="text/css" href="/theme/css/default.css"><meta name="tags" content="xmpp"><meta name="tags" content="irc"><meta name="tags" content="gateway"><meta name="tags" content="mobile"></head><body><div id="header" class="body"><div id="navigation"> | <a href="https://copyninja.in">Home</a> | | <a href="https://copyninja.in/about">About</a> | | <a href="https://copyninja.in/contact">Contact</a> | | <a href="https://copyninja.in/categories.html">Categories</a> | | <a href="https://copyninja.in/tags.html">Tags</a> | </div><h1><a href="https://copyninja.in/blog/xmpp-irc-gateway.html">Biboumi - A XMPP - IRC Gateway</a></h1></div><div id="content"><section id="content" class="body"><footer class="post-info"><p> Posted on Mar 11, 2018 By copyninja under misc </p></abbr></footer><div class="entry-content"><p>IRC is a communication mode (technically a communication protocol) used by many Free Software projects for communication and collaboration. It is serving these projects well even 30 years after its inception. Though I'm pretty much okay with IRC I had a problem of not able to use IRC from the mobile phones. Main problem is the inconsistent network connection, where IRC needs always to be connected. This is where I came across <em>Biboumi</em>.</p><p><em>Biboumi</em> by itself does not have anything to do with mobile phones, its just a gateway which will allow you to connect with IRC channel as if it is a XMPP MUC room from any XMPP client. Benefit of this is it allows to enjoy some of XMPP feature in your IRC channel (not all but those which can be mapped).</p><p>I run <em>Biboumi</em> with my <em>ejabbered</em> instance and there by now I can connect to some of the <em>Debian</em> IRC channel directly from my phone using <em>Conversations</em> XMPP client for Android.</p><p><em>Biboumi</em> is packaged for Debian, though I'm co-maintainer of the package most hardwork is done by <em>Jonas Smedegaard</em> in keeping the package in shape. It is also available for <em>stretch-backports</em> (though slightly outdated as its not packaged by us for backports). Once you install the package, copy example configuration file from <cite>/usr/share/doc/biboumi/examples/example.conf</cite> to <cite>/etc/biboumi/biboumi.cfg</cite> and modify the values as needed. Below is my sample file with password redacted.</p><div class="highlight"><pre><span></span><span class="na">hostname</span><span class="o">=</span><span class="s">biboumi.localhost</span>
<span class="na">password</span><span class="o">=</span><span class="s">xxx</span>
<span class="na">db_name</span><span class="o">=</span><span class="s">/var/lib/biboumi/biboumi.sqlite</span>
<span class="c1">#log_file=/var/log/biboumi/biboumi.log</span>
<span class="na">log_level</span><span class="o">=</span><span class="s">0</span>
<span class="na">admin</span><span class="o">=</span><span class="s">vasudev@copyninja.info</span>
<span class="na">port</span><span class="o">=</span><span class="s">8888</span>
<span class="na">realname_customization</span><span class="o">=</span><span class="s">true</span>
<span class="na">realname_from_jid</span><span class="o">=</span><span class="s">false</span>
</pre></div><p>Explanation for all the key, values in the configuration file is available in the man page (man biboumi).</p><p>Biboumi is configured as external component of the XMPP server. In my case I'm using ejabberd to host my XMPP service. Below is the configuration needed for allowing biboumi to connect with ejabberd.</p><div class="highlight"><pre><span></span><span class="w"> </span><span class="nt">listen</span><span class="p">:</span>
<span class="p p-Indicator">-</span>
<span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8888</span>
<span class="w">  </span><span class="nt">ip</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span>
<span class="w">  </span><span class="nt">module</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ejabberd_service</span>
<span class="w">  </span><span class="nt">acess</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span>
<span class="w">    </span><span class="s">&quot;biboumi.localhost&quot;</span><span class="p p-Indicator">:</span>
<span class="w">       </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">xxx</span>
</pre></div><p><cite>password</cite> field in biboumi configuration should match password value in your XMPP server configuration.</p><p>After doing above configuration reload ejabberd (or your XMPP server) and start biboumi. Biboumi package provides systemd service file so you might need to enable it first. That's it now you have an XMPP to IRC gateway ready.</p><p>You might notice that I'm using local host name for <em>hostname</em> key as well as <em>ip</em> field in ejabberd configuration. This is because TLS support was added to <em>biboumi</em> Debian package only after 7.2 release as botan 2.x was not available till that point in Debian. Hence using proper domain name and making biboumi listen to public will be not safe at least prior to Debian package version 7.2-2. Also making the biboumi service public means you will also need to handle spam bots trying to connect from your service to IRC, which might get your VPS banned from IRC.</p><div class="section" id="connection-semantics"><h2>Connection Semantics</h2><p>Once biboumi is configured and running you can now use XMPP client of your choice (Gajim, Conversation etc.) to connect to IRC. To connect to OFTC from your XMPP client you need to following address in <em>Group Chat</em> section</p><p><cite>%irc.oftc.net&#64;biboumi.localhost</cite></p><p>Replace part after &#64; to what you have configured in <em>hostname</em> field in biboumi configuration. To join a specific channel on a IRC server you need to join the group conversation with following format</p><p><cite>#channel%irc.example.com&#64;biboumi.localhost</cite></p><p>If your nick name is registered and you would want to identify yourself to IRC server you can do that by joining in group conversation with NickServ using following address</p><p><cite>nickserv%irc.example.org&#64;biboumi.localhost</cite></p><p>Once connected you can send NickServ command directly in this virtual channel. Like <cite>identify password nick</cite>. It is also possible to configure your XMPP clients like Gajim to send <a class="reference external" href="https://xmpp.org/extensions/xep-0050.html">Ad-Hoc commands</a> on connection to particular IRC server for identifying your self with IRC servers. But this part I did not get working in Gajim.</p><p>If you are running your own XMPP server then <em>biboumi</em> gives you best way to connect to IRC from your mobile phones. And with applications like <em>Conversation</em> running XMPP application won't be hard on your phone battery.</p><dl class="docutils"><dt><strong>Resources</strong></dt><dd><ul class="first last simple"><li><a class="reference external" href="https://lab.louiz.org/louiz/biboumi/blob/master/doc/biboumi.1.rst#configuration">Biboumi documentation</a></li><li><a class="reference external" href="https://conversations.im/">Conversations</a></li><li><a class="reference external" href="https://docs.ejabberd.im/admin/configuration/">ejabberd documentation</a></li></ul></dd></dl></div></div><div id="footer"><p><italic>Tagged as: gateway, irc, mobile, xmpp, </italic></p></section></div><hr><div id="footer"> Site Proudly powered by <a href="http://getpelican.com/">Pelican</a></div></body></html>